<div class="w-[90vw] md:w-[500px]">
  <h2 class="text-xl font-semibold mb-6">
    {{ isEditMode ? "Editar Serviço" : "Novo Serviço" }}
  </h2>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4">
    <!-- Nome -->
    <div>
      <label class="block mb-1 font-medium text-sm">Nome</label>
      <input
        type="text"
        formControlName="name"
        class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500"
        [class.border-red-500]="name?.invalid && name?.touched"
      />

      @if (name?.invalid && name?.touched) {
      <div class="text-red-500 text-xs mt-1">
        @if (name?.errors?.['required']) {
        <span>Campo obrigatório.</span>
        } @if (name?.errors?.['maxLength']) {
        <span>Máximo de 100 caracteres.</span>
        }
      </div>
      }
    </div>

    <div>
      <label class="block mb-1 font-medium text-sm">Descrição</label>
      <textarea
        formControlName="description"
        rows="4"
        class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500"
        [class.border-red-500]="description?.invalid && description?.touched"
      ></textarea>

      @if (description?.invalid && description?.touched) {

      <div class="text-red-500 text-xs mt-1">
        @if (description?.errors?.['required']) {
        <span>Campo obrigatório.</span>
        } @if (description?.errors?.['maxLength']) {
        <span>Máximo de 300 caracteres.</span>
        }
      </div>

      }
    </div>

    <div class="flex justify-end gap-3 mt-6">
      <button
        type="button"
        (click)="close()"
        class="px-4 py-2 rounded-lg text-sm text-gray-700 hover:text-black"
      >
        Cancelar
      </button>
      <button
        type="submit"
        class="px-5 py-2 rounded-lg bg-emerald-700 text-white text-sm hover:bg-emerald-800"
      >
        {{ isEditMode ? "Salvar" : "Criar" }}
      </button>
    </div>
  </form>
</div>
